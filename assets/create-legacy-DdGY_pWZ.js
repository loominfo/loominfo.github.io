System.register(["./index-legacy-C2ELeSjt.js","./arrow-left-legacy-DHQP2Qny.js"],(function(e,a){"use strict";var t,n,s,c,r,l,i,m,o,d,x,p,h,f,u,g,v,j,b,N,k,y,I,w,C,S,_,F,B,A,O,E,P,U,D,L;return{setters:[e=>{t=e.c,n=e.f,s=e.x,c=e.aH,r=e.u,l=e.aI,i=e.e,m=e.a,o=e.C,d=e.r,x=e.aJ,p=e.Y,h=e.j,f=e.a9,u=e.I,g=e.aK,v=e.J,j=e.am,b=e.g,N=e.an,k=e.ao,y=e.aL,I=e.aM,w=e.s,C=e.w,S=e.h,_=e.q,F=e.aN,B=e.U,A=e.aA,O=e.aB,E=e.B,P=e.aO,U=e.aP,D=e.aQ},e=>{L=e.A}],execute:function(){e("default",(function(){const e=t.c(169),z=n(),q=s(),J=c(),{t:K,i18n:M}=r(),{switchChain:T}=l(),{updateRole:G}=i(),{toast:H}=m(),{address:Q}=o(),[W,Y]=d.useState(),[V,X]=d.useState(!1),[Z,$]=d.useState(!1),[ee,ae]=d.useState(!1),[te,ne]=d.useState(""),{createCard:se}=d.useContext(x);let ce;e[0]===Symbol.for("react.memo_cache_sentinel")?(ce={nickname:"",avatarIndex:0,code:""},e[0]=ce):ce=e[0];const[re,le]=d.useState(ce);let ie;e[1]===Symbol.for("react.memo_cache_sentinel")?(ie={parent:0,self:0},e[1]=ie):ie=e[1];const[me,oe]=d.useState(ie),[de,xe]=d.useState(!1),[pe,he]=d.useState(!1);let fe;e[2]!==z?(fe=async e=>{const a=g(e,z),[t]=await v(b,{contracts:[{abi:j.abi,address:j.networks[z].address,functionName:"cardInfoMap",args:[BigInt(a)]}]});if(t.result){const e=N(t.result[0],"string"),a=k(e);BigInt(t.result[0])===y||ne(a)}},e[2]=z,e[3]=fe):fe=e[3];const ue=fe;let ge,ve,je,be,Ne;e[4]!==ue||e[5]!==J?(ge=()=>{const e=J.get("code"),a=J.get("chainId");e&&(le((a=>({...a,code:e}))),ue(e)),a&&Y(Number(a))},e[4]=ue,e[5]=J,e[6]=ge):ge=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(ve=[],e[7]=ve):ve=e[7],d.useEffect(ge,ve),e[8]!==z||e[9]!==W||e[10]!==T?(je=()=>{W&&W!==z&&T({chainId:W})},e[8]=z,e[9]=W,e[10]=T,e[11]=je):je=e[11],e[12]!==z||e[13]!==W?(be=[z,W],e[12]=z,e[13]=W,e[14]=be):be=e[14],d.useEffect(je,be),e[15]!==ue||e[16]!==re?(Ne=async(e,a)=>{if("nickname"==e){if(new Blob([a.toString()]).size>6)return he(!0);he(!1)}"code"==e&&(6==new Blob([a.toString()]).size?ue(a.toString().toUpperCase()):ne("")),le({...re,[e]:a})},e[15]=ue,e[16]=re,e[17]=Ne):Ne=e[17];const ke=Ne;let ye;e[18]===Symbol.for("react.memo_cache_sentinel")?(ye=()=>{$(!1),X(!0)},e[18]=ye):ye=e[18];const Ie=ye;let we;e[19]!==re.avatarIndex||e[20]!==re.code||e[21]!==re.nickname||e[22]!==Q||e[23]!==z||e[24]!==se||e[25]!==V||e[26]!==de||e[27]!==K||e[28]!==H?(we=async()=>{if(""===re.nickname.toString().trim())return H(K("Invalid nickname"));if(de)return;if(re.nickname.length<=0)return H(K("Invalid nickname"));if(re.code.length>0&&re.code.length<6)return H(K("Invalid invitation code"));if(!V)return H(K("Risk Tips"));xe(!0);const e=I(re.nickname,{size:6}),a=6===re.code.length?g(re.code.toUpperCase(),z):R;try{const{request:t}=await w(b,{abi:j.abi,address:j.networks[z].address,functionName:"makeCard",args:[e,BigInt(re.avatarIndex),BigInt(a)]}),n=await C(b,t);await S(b,{hash:n});const s=await _(b,{abi:F.abi,address:F.networks[z].address,functionName:"balanceOf",args:[Q]}),c=await _(b,{abi:F.abi,address:F.networks[z].address,functionName:"tokenOfOwnerByIndex",args:[Q,s-BigInt(1)]});se({nickname:re.nickname,cardId:Number(c),createAt:0,id:c.toString(16),imageIndex:re.avatarIndex,owner:Q,parentCardId:Number(a)}),oe({parent:Number(a),self:Number(c)}),ae(!0)}catch(e){}xe(!1)},e[19]=re.avatarIndex,e[20]=re.code,e[21]=re.nickname,e[22]=Q,e[23]=z,e[24]=se,e[25]=V,e[26]=de,e[27]=K,e[28]=H,e[29]=we):we=e[29];const Ce=we;let Se;e[30]!==re.avatarIndex||e[31]!==re.nickname||e[32]!==q||e[33]!==me.parent||e[34]!==me.self||e[35]!==G?(Se=()=>{G((e=>({...e,avatarIndex:re.avatarIndex,level:0,nickname:re.nickname,parentTokenId:me.parent,tokenId:me.self}))),q("/")},e[30]=re.avatarIndex,e[31]=re.nickname,e[32]=q,e[33]=me.parent,e[34]=me.self,e[35]=G,e[36]=Se):Se=e[36];const _e=Se;let Fe,Be,Ae,Oe,Ee,Pe;e[37]===Symbol.for("react.memo_cache_sentinel")?(Fe=h.jsx(B,{to:"/",children:h.jsx(L,{className:"text-[#8F9CA8]"})}),e[37]=Fe):Fe=e[37],e[38]!==K?(Be=K("Create a New Role"),e[38]=K,e[39]=Be):Be=e[39],e[40]!==Be?(Ae=h.jsxs("div",{className:"flex items-center lg:hidden",children:[Fe,h.jsx("div",{className:"w-full text-center text-[17px] text-[#333333]",children:Be})]}),e[40]=Be,e[41]=Ae):Ae=e[41],e[42]!==K?(Oe=K("Please enter a new character nickname"),e[42]=K,e[43]=Oe):Oe=e[43],e[44]===Symbol.for("react.memo_cache_sentinel")?(Ee=h.jsx("span",{className:"text-[#FF0000]",children:"*"}),e[44]=Ee):Ee=e[44],e[45]!==Oe?(Pe=h.jsxs("div",{className:"mt-[30px] text-sm/[19px] text-[#333333]",children:[Oe,Ee]}),e[45]=Oe,e[46]=Pe):Pe=e[46];const Ue=re.nickname;let De,Le,Re;e[47]!==ke?(De=e=>ke("nickname",e.target.value),e[47]=ke,e[48]=De):De=e[48],e[49]!==K?(Le=K("6 alphanumeric characters"),e[49]=K,e[50]=Le):Le=e[50],e[51]!==re.nickname||e[52]!==De||e[53]!==Le?(Re=h.jsx(u,{maxLength:6,value:Ue,name:"nickname",onChange:De,placeholder:Le,className:"mt-2 h-[45px] border-none bg-[#F4F3F8] px-4 text-sm/[19px] text-[#333333] shadow-none placeholder:text-[#8E8E93]"}),e[51]=re.nickname,e[52]=De,e[53]=Le,e[54]=Re):Re=e[54];const ze=pe?"flex text-sm/[19px] text-[#FF0000]":"hidden";let qe,Je,Ke;e[55]!==ze?(qe=p(ze),e[55]=ze,e[56]=qe):qe=e[56],e[57]!==K?(Je=K("Exceeds the character limit"),e[57]=K,e[58]=Je):Je=e[58],e[59]!==qe||e[60]!==Je?(Ke=h.jsx("div",{className:qe,children:Je}),e[59]=qe,e[60]=Je,e[61]=Ke):Ke=e[61];const Me=pe?"mt-[11px]":"mt-[30px]";let Te,Ge,He,Qe,We,Ye,Ve,Xe,Ze,$e;e[62]!==Me?(Te=p(Me,"text-sm/[19px] text-[#333333]"),e[62]=Me,e[63]=Te):Te=e[63],e[64]!==K?(Ge=K("Please select a new character image"),e[64]=K,e[65]=Ge):Ge=e[65],e[66]===Symbol.for("react.memo_cache_sentinel")?(He=h.jsx("span",{className:"text-[#FF0000]",children:"*"}),e[66]=He):He=e[66],e[67]!==Te||e[68]!==Ge?(Qe=h.jsxs("div",{className:Te,children:[Ge,He]}),e[67]=Te,e[68]=Ge,e[69]=Qe):Qe=e[69],e[70]!==re.avatarIndex||e[71]!==ke?(We=a.map(((e,a)=>h.jsx("div",{onClick:()=>ke("avatarIndex",a),className:p("flex h-[115px] w-[115px] items-center justify-center rounded-[10px] bg-cover",re.avatarIndex===a&&"mainBorder border-2"),children:h.jsx("img",{src:f(a),className:"rounded-[10px]"})},a))),e[70]=re.avatarIndex,e[71]=ke,e[72]=We):We=e[72],e[73]!==We?(Ye=h.jsx("div",{className:"mt-[7px] grid grid-cols-3 gap-x-2.5 gap-y-[10px]",children:We}),e[73]=We,e[74]=Ye):Ye=e[74],e[75]!==K?(Ve=K("Please enter the invitation code (optional)"),e[75]=K,e[76]=Ve):Ve=e[76],e[77]!==Ve?(Xe=h.jsx("div",{className:"mt-[30px] text-sm/[19px] text-[#333333]",children:Ve}),e[77]=Ve,e[78]=Xe):Xe=e[78],e[79]!==ke?(Ze=e=>ke("code",e.target.value),e[79]=ke,e[80]=Ze):Ze=e[80],e[81]!==re.code||e[82]!==Ze?($e=h.jsx(u,{maxLength:6,value:re.code,name:"code",onChange:Ze,className:"mt-2 h-[45px] border-none bg-[#F4F3F8] px-4 text-sm/[19px] text-[#333333] shadow-none placeholder:text-[#333333]"}),e[81]=re.code,e[82]=Ze,e[83]=$e):$e=e[83];const ea=te.length>0?"mt-[5px] text-sm/[19px] text-[#333333]":"hidden";let aa,ta,na;e[84]!==ea?(aa=p(ea),e[84]=ea,e[85]=aa):aa=e[85],e[86]!==K?(ta=K("Inviting user nickname:"),e[86]=K,e[87]=ta):ta=e[87],e[88]!==te||e[89]!==aa||e[90]!==ta?(na=h.jsxs("div",{className:aa,children:[ta,te]}),e[88]=te,e[89]=aa,e[90]=ta,e[91]=na):na=e[91];const sa="en"===M.language&&"mt-1",ca=te.length>0?"mt-[10px]":"mt-[25px]";let ra,la,ia,ma,oa,da,xa,pa,ha,fa,ua,ga,va,ja,ba,Na,ka,ya,Ia,wa,Ca,Sa,_a,Fa,Ba,Aa,Oa,Ea,Pa;return e[92]!==sa||e[93]!==ca?(ra=p("flex items-start",sa,ca),e[92]=sa,e[93]=ca,e[94]=ra):ra=e[94],e[95]!==V?(la=V?h.jsx(A,{onClick:()=>X(!V),className:"mainColor mt-1 h-[15px] w-[15px]"}):h.jsx("i",{onClick:()=>X(!V),className:"mt-1 h-[12px] w-[12px] shrink-0 border border-black"}),e[95]=V,e[96]=la):la=e[96],e[97]===Symbol.for("react.memo_cache_sentinel")?(ia=()=>$(!0),e[97]=ia):ia=e[97],e[98]===Symbol.for("react.memo_cache_sentinel")?(ma=h.jsx("span",{className:"border-b border-[#D7A001] font-normal text-[#D7A001]",children:"User Agreement"}),e[98]=ma):ma=e[98],e[99]!==K?(oa=h.jsx("span",{onClick:ia,className:"ml-1 max-w-72 whitespace-pre-wrap text-[13px] text-[#333333] lg:text-[14px]",children:h.jsxs(O,{t:K,i18nKey:"I have carefully read and fully understood the Privacy Agreement, Risk Warning and User Agreement.",children:["I have carefully read and fully understood the"," ",ma,"."]})}),e[99]=K,e[100]=oa):oa=e[100],e[101]!==ra||e[102]!==la||e[103]!==oa?(da=h.jsxs("div",{className:ra,children:[la,oa]}),e[101]=ra,e[102]=la,e[103]=oa,e[104]=da):da=e[104],e[105]!==K?(xa=K("Create"),e[105]=K,e[106]=xa):xa=e[106],e[107]!==de||e[108]!==Ce||e[109]!==xa?(pa=h.jsx(E,{type:"green",isLoading:de,onClick:Ce,className:"mt-3 w-full self-center py-[10px] sm:text-center",children:xa}),e[107]=de,e[108]=Ce,e[109]=xa,e[110]=pa):pa=e[110],e[111]!==Ae||e[112]!==Pe||e[113]!==Re||e[114]!==Ke||e[115]!==Qe||e[116]!==Ye||e[117]!==Xe||e[118]!==$e||e[119]!==na||e[120]!==da||e[121]!==pa?(ha=h.jsx("div",{className:"pb-16 lg:flex lg:h-screen lg:w-full lg:items-center lg:justify-center",children:h.jsxs("div",{className:"overflow-auto px-[15px] pb-5 pt-[20px] lg:flex lg:flex-col lg:justify-center lg:pt-0",children:[Ae,Pe,Re,Ke,Qe,Ye,Xe,$e,na,da,pa]})}),e[111]=Ae,e[112]=Pe,e[113]=Re,e[114]=Ke,e[115]=Qe,e[116]=Ye,e[117]=Xe,e[118]=$e,e[119]=na,e[120]=da,e[121]=pa,e[122]=ha):ha=e[122],e[123]===Symbol.for("react.memo_cache_sentinel")?(fa=()=>$(!1),e[123]=fa):fa=e[123],e[124]!==Z?(ua=h.jsx(P,{open:Z,onOpenChange:fa,onConfirm:Ie}),e[124]=Z,e[125]=ua):ua=e[125],e[126]===Symbol.for("react.memo_cache_sentinel")?(ga=()=>ae(!1),e[126]=ga):ga=e[126],e[127]===Symbol.for("react.memo_cache_sentinel")?(va=h.jsx("img",{src:U,className:"w-[48px]"}),e[127]=va):va=e[127],e[128]!==K?(ja=K("Created successfully!"),e[128]=K,e[129]=ja):ja=e[129],e[130]!==ja?(ba=h.jsx("div",{className:"mb-1 mt-[12px] text-base text-[#333333]",children:ja}),e[130]=ja,e[131]=ba):ba=e[131],e[132]!==K?(Na=K("Do you want to jump to the new role immediately?"),e[132]=K,e[133]=Na):Na=e[133],e[134]!==Na?(ka=h.jsx("span",{className:"text-[14px] text-[#797979]",children:Na}),e[134]=Na,e[135]=ka):ka=e[135],e[136]!==re.avatarIndex?(ya=f(re.avatarIndex),e[136]=re.avatarIndex,e[137]=ya):ya=e[137],e[138]!==ya?(Ia=h.jsx("img",{src:ya,className:"h-[60px] w-[60px] rounded-[10px]"}),e[138]=ya,e[139]=Ia):Ia=e[139],e[140]!==re.nickname?(wa=h.jsx("span",{className:"text-lg text-[#2C2C2C]",children:re.nickname}),e[140]=re.nickname,e[141]=wa):wa=e[141],e[142]!==me.self?(Ca=h.jsxs("span",{className:"text-sm font-normal text-[#797979]",children:["ID:",me.self]}),e[142]=me.self,e[143]=Ca):Ca=e[143],e[144]!==wa||e[145]!==Ca?(Sa=h.jsxs("div",{className:"ml-4 flex flex-col",children:[wa,Ca]}),e[144]=wa,e[145]=Ca,e[146]=Sa):Sa=e[146],e[147]!==Ia||e[148]!==Sa?(_a=h.jsxs("div",{className:"mainBorder my-3.5 flex w-full items-center justify-start rounded-[12px] border px-[19px] py-3",children:[Ia,Sa]}),e[147]=Ia,e[148]=Sa,e[149]=_a):_a=e[149],e[150]!==ba||e[151]!==ka||e[152]!==_a?(Fa=h.jsxs("div",{className:"text-left",children:[va,ba,ka,_a]}),e[150]=ba,e[151]=ka,e[152]=_a,e[153]=Fa):Fa=e[153],e[154]!==K?(Ba=K("Confirm"),e[154]=K,e[155]=Ba):Ba=e[155],e[156]!==_e||e[157]!==Ba?(Aa=h.jsx(E,{onClick:_e,type:"primary",className:"m-auto my-[30px] mt-[40px] h-[43px] w-full",children:Ba}),e[156]=_e,e[157]=Ba,e[158]=Aa):Aa=e[158],e[159]!==Fa||e[160]!==Aa?(Oa=h.jsxs("div",{className:"px-4 pb-4 pt-[28px] text-center",children:[Fa,Aa]}),e[159]=Fa,e[160]=Aa,e[161]=Oa):Oa=e[161],e[162]!==ee||e[163]!==Oa?(Ea=h.jsx(D,{isOpen:ee,onClose:ga,className:"",children:Oa}),e[162]=ee,e[163]=Oa,e[164]=Ea):Ea=e[164],e[165]!==ha||e[166]!==ua||e[167]!==Ea?(Pa=h.jsxs(h.Fragment,{children:[ha,ua,Ea]}),e[165]=ha,e[166]=ua,e[167]=Ea,e[168]=Pa):Pa=e[168],Pa}));const a=[54.44,54.5,60,57.86,60,60.48],R=10124}}}));
