import{k as e,l as s,p as t,m as a,o as n,g as l,c,u as r,aT as i,x as o,z as d,b as x,d as m,e as p,r as u,j as f,Y as b}from"./index-B22ef-ay.js";import{B as h}from"./backPC-wx_J285H.js";import{B as j}from"./back-uMgoa6Bo.js";function g(){const g=c.c(20),{t:v}=r(),{sortilegeIndex:N}=i(),k=o(),w=d(),y=x(),{tokenList:I}=m(),{role:D}=p();let F;g[0]===Symbol.for("react.memo_cache_sentinel")?(F=[],g[0]=F):F=g[0];const[q,B]=u.useState(F);let S;g[1]!==D||g[2]!==N||g[3]!==I?(S=[N,D,I],g[1]=D,g[2]=N,g[3]=I,g[4]=S):S=g[4],u.useEffect((()=>{N&&D&&I.length>0&&_()}),S);const _=async()=>{const c=await(async(c,r)=>{var i,o;const d=e(l),x=s(null==r?void 0:r.where),m=t("query winners {\n    winners(\n          first: ".concat(null!=(i=null==r?void 0:r.first)?i:1e3,"\n          ").concat(x,"\n        ) {\n          cardId\n        cardIndex\n    createAt\n    id\n    lotValueRatio\n    sortilegeIndex\n    token\n        }\n      }")),{winners:p}=await c.fetchQuery({queryKey:[null!=(o=null==r?void 0:r.queryKey)?o:"minters"],queryFn:async()=>a(n[d],m)});return p})(y,{where:{sortilegeIndex:Number(N),token:I[D.tokenSubscript].token}});B(c)};let C,A,E,K,z;if(g[5]!==w||g[6]!==k||g[7]!==v?(C="mobile"==w?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center pl-2",onClick:()=>k(-1),children:[f.jsx("img",{src:j,alt:"back",className:"w-4"}),f.jsx("span",{className:"ml-1.5 text-base text-[#3D3D3D]",children:v("Back")})]}),f.jsx("div",{className:"text-center text-lg font-medium text-[#1F2937]",children:v("newDetails.text43")})]}):f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex items-center pl-2",onClick:()=>k(-1),children:f.jsx("img",{src:h,alt:"back",className:"mr-[15px] w-[27px] cursor-pointer"})}),f.jsx("div",{className:"text-center text-[28px] font-medium text-[#2E7D32]",children:v("newDetails.text43")})]}),g[5]=w,g[6]=k,g[7]=v,g[8]=C):C=g[8],g[9]===Symbol.for("react.memo_cache_sentinel")?(A=b("no-scrollbar grid grid-cols-4 gap-4 pb-[10px] text-[#000]"),g[9]=A):A=g[9],g[10]!==D||g[11]!==q){let e;g[13]!==D?(e=(e,s)=>f.jsx("div",{className:b("mb-[10px] flex h-[37px] w-[70px] items-center justify-center rounded-[4px] bg-[#F9FAFB]",D.tokenId==e.cardId&&"bg-[#5b9566d9!important]"),children:e.cardId},s),g[13]=D,g[14]=e):e=g[14],E=q.map(e),g[10]=D,g[11]=q,g[12]=E}else E=g[12];return g[15]!==E?(K=f.jsx("div",{className:"mt-5 rounded-xl pb-1.5 text-[#000]",children:f.jsx("div",{className:"h-[200px] overflow-y-auto",children:f.jsx("div",{className:A,children:E})})}),g[15]=E,g[16]=K):K=g[16],g[17]!==C||g[18]!==K?(z=f.jsxs("div",{className:"px-4 pt-16 pb-5 sm:pt-3 lg:m-auto lg:w-[1100px] lg:pt-[160px] lg:pb-[100px]",children:[C,K]}),g[17]=C,g[18]=K,g[19]=z):z=g[19],z}export{g as default};
