import{c as e,u as s,x as t,z as r,b as a,d as i,e as c,r as n,q as l,g as o,j as x,A as d,E as m,F as h}from"./index-B22ef-ay.js";import{B as p}from"./backPC-wx_J285H.js";import{f,L as j}from"./fetchDistributes-BdsI9VaI.js";import{A as b}from"./arrow-left-b9rq6gzM.js";function u(){const u=e.c(45),{t:y}=s(),N=t(),_=r(),v=a(),{tokenList:g}=i(),{role:F}=c();let w;u[0]===Symbol.for("react.memo_cache_sentinel")?(w=[],u[0]=w):w=u[0];const[k,C]=n.useState(w);let D;u[1]!==F||u[2]!==g?(D=[g,F],u[1]=F,u[2]=g,u[3]=D):D=u[3],n.useEffect((()=>{g.length>0&&F&&S()}),D);const S=async()=>{const e=await l(o,{abi:h.abi,address:g[F.tokenSubscript].forge,functionName:"currentDistributeIndex"}),s=[];for(let t=0;t<e;t++){const e=await f(v,{where:{token:g[F.tokenSubscript].token,index:t}});e.length>0&&s.unshift(e[0])}C(s)},[L,A]=n.useState(!1),[E,H]=n.useState();let B;u[4]===Symbol.for("react.memo_cache_sentinel")?(B=e=>{H(e),A(!0)},u[4]=B):B=u[4];const I=B;let O,q,z,G,P,W,J,K,M,Q,R,T,U,V,X,Y;return u[5]===Symbol.for("react.memo_cache_sentinel")?(O=()=>A(!1),u[5]=O):O=u[5],u[6]!==L||u[7]!==E?(q=x.jsx(j,{isOpen:L,onClose:O,distributeInfo:E}),u[6]=L,u[7]=E,u[8]=q):q=u[8],u[9]!==_||u[10]!==N||u[11]!==y?(z="mobile"==_?x.jsx("div",{className:"",children:x.jsxs("div",{className:"flex items-center",onClick:()=>N(-1),children:[x.jsx(b,{className:"text-[#8F9CA8]"}),x.jsx("div",{className:"w-full text-center text-[17px] text-[#333333]",children:y("history.LotteryHistory.text1")})]})}):x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex items-center pl-2",onClick:()=>N(-1),children:x.jsx("img",{src:p,alt:"back",className:"mr-[15px] w-[27px] cursor-pointer"})}),x.jsx("div",{className:"text-center text-[28px] font-medium text-[#2E7D32]",children:y("history.LotteryHistory.text1")})]}),u[9]=_,u[10]=N,u[11]=y,u[12]=z):z=u[12],u[13]!==y?(G=y("history.LotteryHistory.text2"),u[13]=y,u[14]=G):G=u[14],u[15]!==G?(P=x.jsx("span",{children:G}),u[15]=G,u[16]=P):P=u[16],u[17]!==y?(W=y("newDetails.text59"),u[17]=y,u[18]=W):W=u[18],u[19]!==W?(J=x.jsx("span",{className:"border-[#F0F1F3]",children:W}),u[19]=W,u[20]=J):J=u[20],u[21]!==y?(K=y("newDetails.text60"),u[21]=y,u[22]=K):K=u[22],u[23]!==K?(M=x.jsx("span",{className:"border-[#F0F1F3]",children:K}),u[23]=K,u[24]=M):M=u[24],u[25]!==y?(Q=y("newDetails.text61"),u[25]=y,u[26]=Q):Q=u[26],u[27]!==Q?(R=x.jsx("span",{className:"border-[#F0F1F3]",children:Q}),u[27]=Q,u[28]=R):R=u[28],u[29]===Symbol.for("react.memo_cache_sentinel")?(T=x.jsx("span",{}),u[29]=T):T=u[29],u[30]!==M||u[31]!==R||u[32]!==P||u[33]!==J?(U=x.jsxs("div",{className:"grid grid-cols-[1fr_2fr_2fr_2fr_1fr] justify-items-center bg-[#F0F1F3] py-3 pr-[5px] text-sm font-medium text-[rgba(0,0,0,0.5)] lg:text-[18px]",children:[P,J,M,R,T]}),u[30]=M,u[31]=R,u[32]=P,u[33]=J,u[34]=U):U=u[34],u[35]!==k||u[36]!==y?(V=x.jsx("div",{className:"no-scrollbar h-[calc(100vh-25vh)] overflow-scroll",children:k.length>0?x.jsx(x.Fragment,{children:k.map((e=>x.jsxs("div",{className:"grid grid-cols-[1fr_2fr_2fr_2fr_1fr] justify-items-center border-b border-[#DCEDC8] py-3 text-center text-sm text-[#4B5563] last:border-b-0 lg:text-[18px]",children:[x.jsxs("span",{children:["#",e.index+1]}),x.jsx("span",{children:d(e.hash,2,3)}),x.jsx("span",{children:e.blockNumber}),x.jsx("span",{children:d(e.hash,2,3)}),x.jsx("span",{className:"cursor-pointer text-[#04CC79]",onClick:()=>I(e),children:y("history.LotteryHistory.text7")})]},e.id)))}):x.jsx(m,{text:y("noData"),imageWidth:97.5,divclassName:"  h-[calc(100vh-190px)] py-0"})}),u[35]=k,u[36]=y,u[37]=V):V=u[37],u[38]!==U||u[39]!==V?(X=x.jsxs("div",{className:"mt-5 overflow-hidden rounded-xl pb-1.5 shadow-[0_2px_4px_0_rgba(0,0,0,0.05)]",children:[U,V]}),u[38]=U,u[39]=V,u[40]=X):X=u[40],u[41]!==X||u[42]!==q||u[43]!==z?(Y=x.jsxs("div",{className:"h-screen overflow-auto px-[15px] pb-5 pt-[20px]",children:[q,z,X]}),u[41]=X,u[42]=q,u[43]=z,u[44]=Y):Y=u[44],Y}export{u as default};
