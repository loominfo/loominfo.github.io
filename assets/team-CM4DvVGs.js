import{k as e,l as t,p as n,m as a,an as i,n as s,o as r,g as u,c,u as p,x as l,f as d,C as o,e as m,a as y,d as x,r as f,b as h,ak as w,q as b,am as v,ao as T,al as g,J as I,aN as j,j as M,af as N,Y as A,E as F,a9 as _,S as L}from"./index-B22ef-ay.js";import{A as k}from"./arrow-left-b9rq6gzM.js";const C={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCardId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCardId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AddAchievementValue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"cardId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"level",type:"uint256"}],name:"AddChildrenOfLevels",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[],name:"SEARCH_DEEP_MAX_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"SET_DEEP_MAX_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"board",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"bonus",outputs:[{internalType:"contract IBonus",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"breedMaxTier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"breedRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"card",outputs:[{internalType:"contract ICard721",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"family",outputs:[{internalType:"contract IFamily",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"infoOf",outputs:[{internalType:"uint8",name:"level",type:"uint8"},{internalType:"uint64",name:"selfValue",type:"uint64"},{internalType:"uint64",name:"childrenTotalValue",type:"uint64"},{internalType:"uint256",name:"accSupply",type:"uint256"},{internalType:"uint256",name:"power",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"levelRewardRatios",outputs:[{internalType:"uint40",name:"",type:"uint40"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_bonus",type:"address"},{internalType:"address",name:"_board",type:"address"}],name:"setBonusAndBoard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"cardId",type:"uint256"}],name:"levelOf",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"cardId",type:"uint256"}],name:"achievementOf",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"cardId",type:"uint256"},{internalType:"uint256",name:"amountValue",type:"uint256"}],name:"diffRewards",outputs:[{internalType:"uint256[]",name:"cardIds",type:"uint256[]"},{internalType:"uint256[]",name:"rewards",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"cardId",type:"uint256"},{internalType:"uint256",name:"amountValue",type:"uint256"}],name:"breedRewards",outputs:[{internalType:"uint256[]",name:"cardIds",type:"uint256[]"},{internalType:"uint256[]",name:"rewards",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256[]",name:"children",type:"uint256[]"}],name:"childrenLevels",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256[]",name:"useChildren",type:"uint256[]"},{internalType:"uint256",name:"cardId",type:"uint256"}],name:"levelUpgrade",outputs:[{internalType:"uint8",name:"origin",type:"uint8"},{internalType:"uint8",name:"current",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"cardId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"increaseDelegate",outputs:[],stateMutability:"nonpayable",type:"function"}]},Q=()=>{const Q=c.c(95),{t:B}=p(),D=l(),O=d(),{address:R}=o(),{role:V}=m(),{toast:q}=y(),{tokenList:z}=x();let P;Q[0]===Symbol.for("react.memo_cache_sentinel")?(P=[],Q[0]=P):P=Q[0];const[Z,K]=f.useState(P),[X,G]=f.useState(!1),[H,J]=f.useState(0),[U,W]=f.useState(""),[Y,$]=f.useState("***"),[ee,te]=f.useState(""),ne=h(),ae=S;let ie;Q[1]!==R||Q[2]!==O||Q[3]!==V||Q[4]!==z?(ie=[V,R,O,z],Q[1]=R,Q[2]=O,Q[3]=V,Q[4]=z,Q[5]=ie):ie=Q[5],f.useEffect((()=>{V.tokenId>0&&se()}),ie);const se=async()=>{const c="".concat(location.origin,"/#/role/create?code=").concat(w(V.tokenId,O));te(c),G(!0),(async(c,p)=>{var l,d;const o=e(u),m=t(null==p?void 0:p.where),y=n("query Cards {\n    cards(\n      orderBy: cardId\n      first: ".concat(null!=(l=null==p?void 0:p.first)?l:1e3,"\n      ").concat(m,"\n    ) {\n      cardId\n      createAt\n      id\n      imageIndex\n      nickname\n      owner\n      parentCardId\n    }\n  }")),{cards:x}=await c.fetchQuery({queryKey:[null!=(d=null==p?void 0:p.queryKey)?d:"cards"],queryFn:async()=>{const e=56==o?{Authorization:"Bearer ".concat(s[o])}:void 0;return a(r[o],y,void 0,e)}});return x.map((e=>({...e,nickname:i(e.nickname,"string")})))})(ne,{where:{cardId:V.parentTokenId}}).then((async e=>{W(e[0].owner),J(e[0].imageIndex);const t=await b(u,{abi:v.abi,address:v.networks[O].address,functionName:"cardInfoMap",args:[BigInt(V.parentTokenId)]}),n=i(t[0],"string"),a=T(n);$(a)}));const p=await b(u,{abi:g.abi,address:g.networks[O].address,functionName:"childrenOf",args:[BigInt(V.tokenId)]}),l=await I(u,{contracts:p.map((e=>({abi:v.abi,address:v.networks[O].address,functionName:"cardInfoMap",args:[e]})))}),d=await I(u,{contracts:p.map((e=>({abi:j.abi,address:j.networks[O].address,functionName:"ownerOf",args:[e]})))}),o=l.map(((e,t)=>{const[n,a]=e.result,s=i(n,"string"),r=T(s);return{cardId:Number(p[t]),imageIndex:Number(a),nickname:r,owner:d[t].result,parentCardId:V.tokenId}})).sort(E),m=[],y=[];if(o&&z.length>0){for(let e=0;e<o.length;e++){const t=await b(u,{abi:C.abi,address:z[V.tokenSubscript].achievement,functionName:"levelOf",args:[o[e].cardId]});m.push({level:Number(t),nickname:o[e].nickname,user:o[e].owner}),y.push(BigInt(o[e].cardId))}K(m)}else for(let e=0;e<o.length;e++)m.push({level:Number(0),nickname:o[e].nickname,user:o[e].owner}),y.push(BigInt(o[e].cardId));K(m),G(!1)};let re,ue,ce,pe,le,de,oe,me;Q[6]!==D?(re=()=>D(-1),Q[6]=D,Q[7]=re):re=Q[7],Q[8]===Symbol.for("react.memo_cache_sentinel")?(ue=M.jsx(k,{className:"text-[#8F9CA8]"}),Q[8]=ue):ue=Q[8],Q[9]!==B?(ce=B("newMy.Team.text4"),Q[9]=B,Q[10]=ce):ce=Q[10],Q[11]!==ce?(pe=M.jsx("div",{className:"w-full text-center text-[17px] text-[#333333]",children:ce}),Q[11]=ce,Q[12]=pe):pe=Q[12],Q[13]!==re||Q[14]!==pe?(le=M.jsxs("div",{className:"flex items-center sm:hidden",onClick:re,children:[ue,pe]}),Q[13]=re,Q[14]=pe,Q[15]=le):le=Q[15],Q[16]!==B?(de=B("newMy.Team.text19"),Q[16]=B,Q[17]=de):de=Q[17],Q[18]!==de?(oe=M.jsx("div",{className:"text-[16px] font-medium text-[#1F2937]",children:de}),Q[18]=de,Q[19]=oe):oe=Q[19],Q[20]!==H?(me=_(H),Q[20]=H,Q[21]=me):me=Q[21];const ye="NFT #".concat(H);let xe,fe,he;Q[22]!==ye||Q[23]!==me?(xe=M.jsx("img",{src:me,alt:ye,className:"h-[42px] w-[42px] rounded-[52px]"}),Q[22]=ye,Q[23]=me,Q[24]=xe):xe=Q[24],Q[25]!==Y?(fe=M.jsx("span",{className:"ml-2 text-[14px] font-medium text-[#04CC79]",children:Y}),Q[25]=Y,Q[26]=fe):fe=Q[26],Q[27]!==xe||Q[28]!==fe?(he=M.jsxs("div",{className:"flex items-center",children:[xe,fe]}),Q[27]=xe,Q[28]=fe,Q[29]=he):he=Q[29];const we="".concat(U.slice(0,3),"...").concat(U.slice(-4));let be,ve,Te,ge,Ie,je,Me,Ne,Ae,Fe,_e,Le,ke,Ce,Qe,Se,Ee,Be,De,Oe,Re,Ve,qe,ze;return Q[30]!==we?(be=M.jsx("span",{className:"text-[14px] text-[#3D3D3D]",children:we}),Q[30]=we,Q[31]=be):be=Q[31],Q[32]!==he||Q[33]!==be?(ve=M.jsxs("div",{className:"mt-[10px] flex items-center justify-between rounded-[14.46px] border border-[#F0F1F3] bg-[#F9FAFA] p-[10px_20px]",children:[he,be]}),Q[32]=he,Q[33]=be,Q[34]=ve):ve=Q[34],Q[35]!==B?(Te=B("newMy.Team.text4"),Q[35]=B,Q[36]=Te):Te=Q[36],Q[37]!==Te?(ge=M.jsx("div",{className:"mt-[30px] text-[16px] font-medium text-[#1F2937]",children:Te}),Q[37]=Te,Q[38]=ge):ge=Q[38],Q[39]!==B?(Ie=B("newMy.Team.text2"),Q[39]=B,Q[40]=Ie):Ie=Q[40],Q[41]!==Ie?(je=M.jsxs("span",{className:"text-[14px] text-[#8A8A8A]",children:[Ie,":"]}),Q[41]=Ie,Q[42]=je):je=Q[42],Q[43]!==ee?(Me=ee.slice(0,15),Q[43]=ee,Q[44]=Me):Me=Q[44],Q[45]!==ee?(Ne=ee.slice(-10),Q[45]=ee,Q[46]=Ne):Ne=Q[46],Q[47]!==Me||Q[48]!==Ne?(Ae=M.jsxs("span",{className:"ml-1 text-[14px] text-[#000000]",children:[Me,"****",Ne]}),Q[47]=Me,Q[48]=Ne,Q[49]=Ae):Ae=Q[49],Q[50]!==je||Q[51]!==Ae?(Fe=M.jsxs("div",{className:"flex items-center",children:[je,Ae]}),Q[50]=je,Q[51]=Ae,Q[52]=Fe):Fe=Q[52],Q[53]!==ee||Q[54]!==B||Q[55]!==q?(_e=M.jsx("img",{onClick:()=>{L(ee),q(B("newMy.Team.text3"))},src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='12.935999870300293'%20height='14.784000396728516'%20viewBox='0%200%2012.935999870300293%2014.784000396728516'%3e%3cg%20transform='matrix(1,0,0,-1,0,29.56800079345703)'%3e%3cpath%20d='M11.088,19.866000396728516L5.544,19.866000396728516L11.088,19.866000396728516L5.544,19.866000396728516Q5.11088,19.894880396728517,5.082,20.328000396728516L5.082,27.720000396728516Q5.11088,28.153100396728515,5.544,28.182000396728515L9.5865,28.182000396728515L11.55,26.218500396728516L11.55,20.328000396728516Q11.5211,19.894880396728517,11.088,19.866000396728516ZM5.544,18.480000396728517L11.088,18.480000396728517L5.544,18.480000396728517L11.088,18.480000396728517Q11.8676,18.508870396728515,12.3874,19.028630396728516Q12.9071,19.548380396728515,12.936,20.328000396728516L12.936,26.218500396728516Q12.936,26.796000396728516,12.5317,27.200300396728515L10.5682,29.163800396728515Q10.164,29.568000396728515,9.5865,29.568000396728515L5.544,29.568000396728515Q4.76438,29.539100396728514,4.24463,29.019400396728514Q3.72487,28.499600396728518,3.696,27.720000396728516L3.696,20.328000396728516Q3.72487,19.548380396728515,4.24463,19.028630396728516Q4.76438,18.508870396728515,5.544,18.480000396728517ZM1.848,25.872000396728517Q1.06837,25.843100396728516,0.548625,25.323400396728516Q0.028875,24.803600396728516,0,24.024000396728518L0,16.632000396728515Q0.028875,15.852370396728515,0.548625,15.332625396728515Q1.06837,14.812875396728515,1.848,14.784000396728516L7.392,14.784000396728516Q8.17163,14.812875396728515,8.69137,15.332625396728515Q9.21113,15.852370396728515,9.24,16.632000396728515L9.24,17.556000396728514L7.854,17.556000396728514L7.854,16.632000396728515Q7.82512,16.198880396728516,7.392,16.170000396728515L1.848,16.170000396728515Q1.41488,16.198880396728516,1.386,16.632000396728515L1.386,24.024000396728518Q1.41488,24.457130396728516,1.848,24.486000396728514L2.772,24.486000396728514L2.772,25.872000396728517L1.848,25.872000396728517Z'%20fill='%2304CC79'%20fill-opacity='1'/%3e%3c/g%3e%3c/svg%3e",alt:"Copy",className:"ml-[4px] w-[15px]"}),Q[53]=ee,Q[54]=B,Q[55]=q,Q[56]=_e):_e=Q[56],Q[57]!==Fe||Q[58]!==_e?(Le=M.jsxs("div",{className:"flex items-center",children:[Fe,_e]}),Q[57]=Fe,Q[58]=_e,Q[59]=Le):Le=Q[59],Q[60]!==ve||Q[61]!==ge||Q[62]!==Le||Q[63]!==oe?(ke=M.jsxs("div",{className:"mb-[10px] mt-[27px] sm:hidden",children:[oe,ve,ge,Le]}),Q[60]=ve,Q[61]=ge,Q[62]=Le,Q[63]=oe,Q[64]=ke):ke=Q[64],Q[65]!==B?(Ce=B("newMy.Team.text5"),Q[65]=B,Q[66]=Ce):Ce=Q[66],Q[67]!==Ce?(Qe=M.jsx("div",{className:"",children:Ce}),Q[67]=Ce,Q[68]=Qe):Qe=Q[68],Q[69]!==B?(Se=B("newMy.Team.text6"),Q[69]=B,Q[70]=Se):Se=Q[70],Q[71]!==Se?(Ee=M.jsx("div",{className:"",children:Se}),Q[71]=Se,Q[72]=Ee):Ee=Q[72],Q[73]!==B?(Be=B("newMy.Team.text7"),Q[73]=B,Q[74]=Be):Be=Q[74],Q[75]!==Be?(De=M.jsx("div",{className:"",children:Be}),Q[75]=Be,Q[76]=De):De=Q[76],Q[77]!==B?(Oe=B("newMy.Team.text8"),Q[77]=B,Q[78]=Oe):Oe=Q[78],Q[79]!==Oe?(Re=M.jsx("div",{className:"",children:Oe}),Q[79]=Oe,Q[80]=Re):Re=Q[80],Q[81]!==Qe||Q[82]!==Ee||Q[83]!==De||Q[84]!==Re?(Ve=M.jsxs("div",{className:"mt-[14px] grid h-[44px] grid-cols-[1fr_2fr_2fr_2fr] items-center rounded-[6px_6px_0_0] bg-[#F0F1F3] px-[8px] text-center text-[14px] text-[#8A8A8A] sm:mt-0 sm:text-[12px]",children:[Qe,Ee,De,Re]}),Q[81]=Qe,Q[82]=Ee,Q[83]=De,Q[84]=Re,Q[85]=Ve):Ve=Q[85],Q[86]!==X||Q[87]!==Z||Q[88]!==B?(qe=M.jsx("div",{className:"scroll-container max-h-[calc(60vh)] overflow-auto rounded-[0_0_6px_6px] border-[1px] border-[#E8F5EA] bg-white py-[4px] text-[12px] text-[#254F2C] sm:h-[280px]",children:X?M.jsxs("div",{className:"flex h-[170px] flex-col items-center justify-center text-[14px] text-gray-500",children:[M.jsx(N,{className:"animate-spin",color:"#6b7280",size:40}),B("Loading...")]}):M.jsx(M.Fragment,{children:Z.length>0?M.jsx(M.Fragment,{children:Z.map(((e,t)=>M.jsxs("div",{className:"grid h-[48.5px] grid-cols-[1fr_2fr_2fr_2fr] items-center border-b-[1px] border-[#F3F4F6] bg-white text-center text-[14px] text-[#1A1A1A] sm:text-[12px]",children:[M.jsx("span",{children:t+1}),M.jsx("span",{children:e.nickname}),M.jsxs("span",{children:[" ","".concat(e.user.slice(0,3),"...").concat(e.user.slice(-4))]}),M.jsxs("div",{className:A("m-auto rounded-full p-[4px_8px] text-[12px] sm:text-[12px]",ae(Number(e.level))),children:["VIP ",e.level]})]},t)))}):M.jsx(F,{text:B("newMy.Team.text12"),imageWidth:97.5,divclassName:" py-[30px] sm:pt-[50px]",className:"text-center text-[#8A8A8A]"})})}),Q[86]=X,Q[87]=Z,Q[88]=B,Q[89]=qe):qe=Q[89],Q[90]!==ke||Q[91]!==Ve||Q[92]!==qe||Q[93]!==le?(ze=M.jsx(M.Fragment,{children:M.jsxs("div",{className:"p-[25px_19.5px] sm:p-0",children:[le,ke,Ve,qe]})}),Q[90]=ke,Q[91]=Ve,Q[92]=qe,Q[93]=le,Q[94]=ze):ze=Q[94],ze};function S(e){switch(e){case 0:return"bg-[#C4CADD] text-white";case 1:return"bg-[#87AAD0] text-white";case 2:return"bg-[#7298FF] text-white";case 3:return"bg-[#EB7EFF] text-white";case 4:return"bg-[#FFC392] text-white";default:return"bg-[#FFDA60] text-white"}}function E(e,t){return t.cardId-e.cardId}const B=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{C as A,Q as T,B as t};
