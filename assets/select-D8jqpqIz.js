import{c as e,x as t,f as s,b as a,u as n,C as l,e as r,aR as c,r as o,aj as d,Y as x,j as i,af as m,aS as p,a9 as f,B as u}from"./index-B22ef-ay.js";function g(){const g=e.c(41),h=t(),j=s();a();const{t:k}=n(),{address:I}=l(),{role:v,updateRole:b}=r();let N;g[0]===Symbol.for("react.memo_cache_sentinel")?(N=[],g[0]=N):N=g[0];const[y,w]=c(N),[S,F]=o.useState(null);let _;g[1]===Symbol.for("react.memo_cache_sentinel")?(_=[],g[1]=_):_=g[1];const[C,R]=o.useState(_),[T,B]=o.useState(!1),z=d();let E,L,Y;g[2]!==I||g[3]!==z||g[4]!==j||g[5]!==v||g[6]!==w?(E=()=>{if(!I||!j||!z)return;(async()=>{if(B(!0),I){const e=[];for(let s=0;s<z.length;s++)e.push({nickname:z[s].nickname,actived:0===s,avatarIndex:z[s].imageIndex,level:0,parentTokenId:z[s].parentCardId,tokenId:Number(z[s].cardId),tokenSubscript:0});const t=[...e].sort(((e,t)=>e.tokenId===v.tokenId?-1:t.tokenId===v.tokenId?1:0));F(Number(t[0].tokenId)),R(t[0]?[t[0]]:[]),w(t),B(!1)}})()},g[2]=I,g[3]=z,g[4]=j,g[5]=v,g[6]=w,g[7]=E):E=g[7],g[8]!==I||g[9]!==z||g[10]!==j?(L=[I,j,z],g[8]=I,g[9]=z,g[10]=j,g[11]=L):L=g[11],o.useEffect(E,L),g[12]===Symbol.for("react.memo_cache_sentinel")?(Y=e=>{F(Number(e.tokenId)),R((()=>[e]))},g[12]=Y):Y=g[12];const q=Y;let A;g[13]!==C[0]||g[14]!==C.length||g[15]!==h||g[16]!==b?(A=async()=>{if(C.length>0){const{avatarIndex:e,level:t,nickname:s,parentTokenId:a,tokenId:n}=C[0];b((l=>({...l,avatarIndex:e,level:t,nickname:s,parentTokenId:a,tokenId:Number(n)})))}h("/")},g[13]=C[0],g[14]=C.length,g[15]=h,g[16]=b,g[17]=A):A=g[17];const D=A;let G,H;g[18]!==k?(G=k("Select a role"),g[18]=k,g[19]=G):G=g[19],g[20]!==G?(H=i.jsx("div",{className:"flex items-center lg:hidden",children:i.jsx("div",{className:"w-full text-center text-[17px] text-[#333333]",children:G})}),g[20]=G,g[21]=H):H=g[21];const J=T?"w-full items-center justify-center":"my-[34px] grid max-h-[400px] grid-cols-3 gap-[10px] overflow-auto";let K,M,O,P,Q,U;return g[22]!==J?(K=x(J),g[22]=J,g[23]=K):K=g[23],g[24]!==T||g[25]!==y||g[26]!==S||g[27]!==k?(M=T?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"my-26 flex w-full flex-col items-center justify-center text-gray-500",children:[i.jsx(m,{className:"w-[30px] animate-spin",color:"#6b7280"}),k("Loading...")]})}):i.jsx(i.Fragment,{children:null==y?void 0:y.map(((e,t)=>i.jsxs("div",{className:x("relative rounded-[8px] border border-[#F4F3F8]",S==e.tokenId&&"mainBorder border-2"),onClick:()=>q(e),children:[S==e.tokenId&&i.jsx(p,{className:"mainColor absolute top-[8px] left-[7px] w-[16px]"}),i.jsx("img",{src:f(e.avatarIndex),className:"w-full rounded-t-[8px] sm:w-[120px]"}),i.jsxs("div",{className:"flex items-center justify-between px-[6px] py-[8px] text-[#333333]",children:[i.jsx("span",{className:"text-[12px]",children:e.nickname}),i.jsxs("div",{className:"rounded-[4px] border border-[#F4F3F8] px-[1px] py-[2px] text-[10px]",children:["#",e.tokenId]})]})]},t)))}),g[24]=T,g[25]=y,g[26]=S,g[27]=k,g[28]=M):M=g[28],g[29]!==M||g[30]!==K?(O=i.jsx("div",{className:K,children:M}),g[29]=M,g[30]=K,g[31]=O):O=g[31],g[32]!==k?(P=k("SelectRole.text2"),g[32]=k,g[33]=P):P=g[33],g[34]!==D||g[35]!==P?(Q=i.jsx(u,{type:"green",size:"large",onClick:D,className:"mt-5 w-full px-[0]",children:P}),g[34]=D,g[35]=P,g[36]=Q):Q=g[36],g[37]!==O||g[38]!==Q||g[39]!==H?(U=i.jsx(i.Fragment,{children:i.jsx("div",{className:"lg:flex lg:h-screen lg:w-full lg:items-center lg:justify-center",children:i.jsxs("div",{className:"h-screen overflow-auto px-[15px] pt-[20px] pb-5 lg:flex lg:flex-col lg:justify-center lg:pt-0",children:[H,O,Q]})})}),g[37]=O,g[38]=Q,g[39]=H,g[40]=U):U=g[40],U}export{g as default};
