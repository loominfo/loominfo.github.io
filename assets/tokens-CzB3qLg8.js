var t,e,s,i,a,n,r,o,l,c,h,u,d,p,f,m,b,y,v,x,g,w,O,k,N,R,j=t=>{throw TypeError(t)},C=(t,e,s)=>e.has(t)||j("Cannot "+s),I=(t,e,s)=>(C(t,e,"read from private field"),s?s.call(t):e.get(t)),M=(t,e,s)=>e.has(t)?j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),S=(t,e,s,i)=>(C(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),A=(t,e,s)=>(C(t,e,"access private method"),s);import{br as E,bs as T,bt as q,b1 as P,bu as W,K as B,J as F,bv as U,bw as D,bx as _,by as Q,bz as L,bA as H,bB as K,bC as z,bD as J,bE as $,bF as G,bG as V,bH as X,r as Y,bI as Z,b as tt,bJ as et,bK as st,f as it,C as at,d as nt,j as rt,bL as ot,t as lt,L as ct,a_ as ht,O as ut,q as dt,g as pt,b8 as ft,bM as mt}from"./index-B22ef-ay.js";import{r as bt}from"./router-AtcRQQB7.js";import{T as yt}from"./Token-D8m53OPG.js";import{U as vt}from"./USDTToken-sPSJkXxs.js";function xt(t){return"number"==typeof t?t:"wei"===t?0:Math.abs(E[t])}async function gt(t,e){const{balanceAddress:s,chainId:i,symbolType:a,tokenAddress:n,unit:r}=e,o={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:a}]}],address:n},[l,c,h]=await F(t,{allowFailure:!1,contracts:[{...o,functionName:"balanceOf",args:[s],chainId:i},{...o,functionName:"decimals",chainId:i},{...o,functionName:"symbol",chainId:i}]});return{decimals:c,formatted:B(null!=l?l:"0",xt(null!=r?r:c)),symbol:h,value:l}}var wt=(R=class extends U{constructor(b,y){super(),M(this,m),M(this,t),M(this,e),M(this,s),M(this,i),M(this,a),M(this,n),M(this,r),M(this,o),M(this,l),M(this,c),M(this,h),M(this,u),M(this,d),M(this,p),M(this,f,new Set),this.options=y,S(this,t,b),S(this,o,null),S(this,r,D()),this.options.experimental_prefetchInRender||I(this,r).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(y)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(I(this,e).addObserver(this),Ot(I(this,e),this.options)?A(this,m,b).call(this):this.updateResult(),A(this,m,g).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kt(I(this,e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kt(I(this,e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,A(this,m,w).call(this),A(this,m,O).call(this),I(this,e).removeObserver(this)}setOptions(s){const i=this.options,a=I(this,e);if(this.options=I(this,t).defaultQueryOptions(s),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof _(this.options.enabled,I(this,e)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");A(this,m,k).call(this),I(this,e).setOptions(this.options),i._defaulted&&!Q(this.options,i)&&I(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,e),observer:this});const n=this.hasListeners();n&&Nt(I(this,e),a,this.options,i)&&A(this,m,b).call(this),this.updateResult(),!n||I(this,e)===a&&_(this.options.enabled,I(this,e))===_(i.enabled,I(this,e))&&L(this.options.staleTime,I(this,e))===L(i.staleTime,I(this,e))||A(this,m,y).call(this);const r=A(this,m,v).call(this);!n||I(this,e)===a&&_(this.options.enabled,I(this,e))===_(i.enabled,I(this,e))&&r===I(this,p)||A(this,m,x).call(this,r)}getOptimisticResult(s){const r=I(this,t).getQueryCache().build(I(this,t),s),o=this.createResult(r,s);return function(t,e){if(!Q(t.getCurrentResult(),e))return!0;return!1}(this,o)&&(S(this,i,o),S(this,n,this.options),S(this,a,I(this,e).state)),o}getCurrentResult(){return I(this,i)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})})),s}trackProp(t){I(this,f).add(t)}getCurrentQuery(){return I(this,e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(e){const s=I(this,t).defaultQueryOptions(e),i=I(this,t).getQueryCache().build(I(this,t),s);return i.fetch().then((()=>this.createResult(i,s)))}fetch(t){var e;return A(this,m,b).call(this,{...t,cancelRefetch:null==(e=t.cancelRefetch)||e}).then((()=>(this.updateResult(),I(this,i))))}createResult(t,u){var d;const p=I(this,e),f=this.options,m=I(this,i),b=I(this,a),y=I(this,n),v=t!==p?t.state:I(this,s),{state:x}=t;let g,w={...x},O=!1;if(u._optimisticResults){const e=this.hasListeners(),s=!e&&Ot(t,u),i=e&&Nt(t,p,u,f);(s||i)&&(w={...w,...G(x.data,t.options)}),"isRestoring"===u._optimisticResults&&(w.fetchStatus="idle")}let{error:k,errorUpdatedAt:N,status:R}=w;if(u.select&&void 0!==w.data)if(m&&w.data===(null==b?void 0:b.data)&&u.select===I(this,l))g=I(this,c);else try{S(this,l,u.select),g=u.select(w.data),g=V(null==m?void 0:m.data,g,u),S(this,c,g),S(this,o,null)}catch(q){S(this,o,q)}else g=w.data;if(void 0!==u.placeholderData&&void 0===g&&"pending"===R){let t;if((null==m?void 0:m.isPlaceholderData)&&u.placeholderData===(null==y?void 0:y.placeholderData))t=m.data;else if(t="function"==typeof u.placeholderData?u.placeholderData(null==(d=I(this,h))?void 0:d.state.data,I(this,h)):u.placeholderData,u.select&&void 0!==t)try{t=u.select(t),S(this,o,null)}catch(q){S(this,o,q)}void 0!==t&&(R="success",g=V(null==m?void 0:m.data,t,u),O=!0)}I(this,o)&&(k=I(this,o),g=I(this,c),N=Date.now(),R="error");const j="fetching"===w.fetchStatus,C="pending"===R,M="error"===R,A=C&&j,E=void 0!==g,T={status:R,fetchStatus:w.fetchStatus,isPending:C,isSuccess:"success"===R,isError:M,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:w.dataUpdatedAt,error:k,errorUpdatedAt:N,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>v.dataUpdateCount||w.errorUpdateCount>v.errorUpdateCount,isFetching:j,isRefetching:j&&!C,isLoadingError:M&&!E,isPaused:"paused"===w.fetchStatus,isPlaceholderData:O,isRefetchError:M&&E,isStale:Rt(t,u),refetch:this.refetch,promise:I(this,r)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===T.status?t.reject(T.error):void 0!==T.data&&t.resolve(T.data)},s=()=>{const t=S(this,r,T.promise=D());e(t)},i=I(this,r);switch(i.status){case"pending":t.queryHash===p.queryHash&&e(i);break;case"fulfilled":"error"!==T.status&&T.data===i.value||s();break;case"rejected":"error"===T.status&&T.error===i.reason||s()}}return T}updateResult(){const t=I(this,i),s=this.createResult(I(this,e),this.options);if(S(this,a,I(this,e).state),S(this,n,this.options),void 0!==I(this,a).data&&S(this,h,I(this,e)),Q(s,t))return;S(this,i,s);A(this,m,N).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!I(this,f).size)return!0;const a=new Set(null!=s?s:I(this,f));return this.options.throwOnError&&a.add("error"),Object.keys(I(this,i)).some((e=>{const s=e;return I(this,i)[s]!==t[s]&&a.has(s)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&A(this,m,g).call(this)}},t=new WeakMap,e=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakSet,b=function(t){A(this,m,k).call(this);let s=I(this,e).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(s=s.catch(H)),s},y=function(){A(this,m,w).call(this);const t=L(this.options.staleTime,I(this,e));if(K||I(this,i).isStale||!z(t))return;const s=J(I(this,i).dataUpdatedAt,t);S(this,u,setTimeout((()=>{I(this,i).isStale||this.updateResult()}),s+1))},v=function(){var t;return null!=(t="function"==typeof this.options.refetchInterval?this.options.refetchInterval(I(this,e)):this.options.refetchInterval)&&t},x=function(t){A(this,m,O).call(this),S(this,p,t),!K&&!1!==_(this.options.enabled,I(this,e))&&z(I(this,p))&&0!==I(this,p)&&S(this,d,setInterval((()=>{(this.options.refetchIntervalInBackground||$.isFocused())&&A(this,m,b).call(this)}),I(this,p)))},g=function(){A(this,m,y).call(this),A(this,m,x).call(this,A(this,m,v).call(this))},w=function(){I(this,u)&&(clearTimeout(I(this,u)),S(this,u,void 0))},O=function(){I(this,d)&&(clearInterval(I(this,d)),S(this,d,void 0))},k=function(){const i=I(this,t).getQueryCache().build(I(this,t),this.options);if(i===I(this,e))return;const a=I(this,e);S(this,e,i),S(this,s,i.state),this.hasListeners()&&(null==a||a.removeObserver(this),i.addObserver(this))},N=function(s){X.batch((()=>{s.listeners&&this.listeners.forEach((t=>{t(I(this,i))})),I(this,t).getQueryCache().notify({query:I(this,e),type:"observerResultsUpdated"})}))},R);function Ot(t,e){return function(t,e){return!1!==_(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&kt(t,e,e.refetchOnMount)}function kt(t,e,s){if(!1!==_(e.enabled,t)){const i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&Rt(t,e)}return!1}function Nt(t,e,s,i){return(t!==e||!1===_(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&Rt(t,s)}function Rt(t,e){return!1!==_(e.enabled,t)&&t.isStaleByTime(L(e.staleTime,t))}function jt(t){return JSON.stringify(t,((t,e)=>function(t){if(!Ct(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!Ct(s)&&!!s.hasOwnProperty("isPrototypeOf")}(e)?Object.keys(e).sort().reduce(((t,s)=>(t[s]=e[s],t)),{}):"bigint"==typeof e?e.toString():e))}function Ct(t){return"[object Object]"===Object.prototype.toString.call(t)}function It(t){const{_defaulted:e,behavior:s,gcTime:i,initialData:a,initialDataUpdatedAt:n,maxPages:r,meta:o,networkMode:l,queryFn:c,queryHash:h,queryKey:u,queryKeyHashFn:d,retry:p,retryDelay:f,structuralSharing:m,getPreviousPageParam:b,getNextPageParam:y,initialPageParam:v,_optimisticResults:x,enabled:g,notifyOnChangeProps:w,placeholderData:O,refetchInterval:k,refetchIntervalInBackground:N,refetchOnMount:R,refetchOnReconnect:j,refetchOnWindowFocus:C,retryOnMount:I,select:M,staleTime:S,suspense:A,throwOnError:E,config:T,connector:q,query:P,...W}=t;return W}function Mt(t,e={}){return{async queryFn({queryKey:e}){const{address:s,scopeKey:i,...a}=e[1];if(!s)throw new Error("address is required");const n=await async function(t,e){var s;const{address:i,blockNumber:a,blockTag:n,chainId:r,token:o,unit:l="ether"}=e;if(o)try{return await gt(t,{balanceAddress:i,chainId:r,symbolType:"string",tokenAddress:o})}catch(p){if("ContractFunctionExecutionError"===p.name){const e=await gt(t,{balanceAddress:i,chainId:r,symbolType:"bytes32",tokenAddress:o}),s=T(q(e.symbol,{dir:"right"}));return{...e,symbol:s}}throw p}const c=t.getClient({chainId:r}),h=P(c,W,"getBalance"),u=await h(a?{address:i,blockNumber:a}:{address:i,blockTag:n}),d=null!=(s=t.chains.find((t=>t.id===r)))?s:c.chain;return{decimals:d.nativeCurrency.decimals,formatted:B(u,xt(l)),symbol:d.nativeCurrency.symbol,value:u}}(t,{...a,address:s});return null!=n?n:null},queryKey:St(e)}}function St(t={}){return["balance",It(t)]}var At=Y.createContext(!1);At.Provider;var Et=Y.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),Tt=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function qt(t,e,s){var i,a,n,r,o;const l=tt(),c=Y.useContext(At),h=Y.useContext(Et),u=l.defaultQueryOptions(t);null==(a=null==(i=l.getDefaultOptions().queries)?void 0:i._experimental_beforeQuery)||a.call(i,u),u._optimisticResults=c?"isRestoring":"optimistic",(t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(null!=e?e:1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))})(u),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(u,h),(t=>{Y.useEffect((()=>{t.clearReset()}),[t])})(h);const d=!l.getQueryCache().get(u.queryHash),[p]=Y.useState((()=>new e(l,u))),f=p.getOptimisticResult(u),m=!c&&!1!==t.subscribed;if(Y.useSyncExternalStore(Y.useCallback((t=>{const e=m?p.subscribe(X.batchCalls(t)):et;return p.updateResult(),e}),[p,m]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),Y.useEffect((()=>{p.setOptions(u)}),[u,p]),((t,e)=>(null==t?void 0:t.suspense)&&e.isPending)(u,f))throw Tt(u,p,h);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&void 0===t.data||Z(s,[t.error,i])))({result:f,errorResetBoundary:h,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;if(null==(r=null==(n=l.getDefaultOptions().queries)?void 0:n._experimental_afterQuery)||r.call(n,u,f),u.experimental_prefetchInRender&&!K&&((t,e)=>t.isLoading&&t.isFetching&&!e)(f,c)){const t=d?Tt(u,p,h):null==(o=l.getQueryCache().get(u.queryHash))?void 0:o.promise;null==t||t.catch(et).finally((()=>{p.updateResult()}))}return u.notifyOnChangeProps?f:p.trackResult(f)}function Pt(t){const e=qt({...t,queryKeyHashFn:jt},wt);return e.queryKey=t.queryKey,e}const Wt=({_ishide:t,onTotalAmountsOut:e})=>{var s;const{address:i}=at({config:pt}),{data:a}=function(t={}){var e,s;const{address:i,query:a={}}=t,n=st(t),r=it({config:n}),o=Mt(n,{...t,chainId:null!=(e=t.chainId)?e:r}),l=Boolean(i&&(null==(s=a.enabled)||s));return Pt({...a,...o,enabled:l})}({address:i}),n=it(),{tokenList:r}=nt(),[o,l]=Y.useState("--"),[c,h]=Y.useState([]),[u,d]=Y.useState("0"),[p,f]=Y.useState(0),[m,b]=Y.useState(0);Y.useEffect((()=>{i&&e(m+Number(u)+p)}),[u,p,m]);const y=async()=>{var t;if(i)try{const s=await dt(pt,{abi:ft.abi,address:ft.networks[n].address,functionName:"router"}),r=await dt(pt,{abi:bt,address:s,functionName:"WETH"});if(a)try{const e=await(async(t,e,s,i)=>await dt(pt,{abi:bt,address:i,functionName:"getAmountsOut",args:[t,[e,s]]}))(a.value,r,vt.networks[n].address,s);d(ct(null!=(t=e[1])?t:BigInt("0")))}catch(e){d("0")}const o=await dt(pt,{abi:mt,address:vt.networks[n].address,functionName:"balanceOf",args:[i]}),c=ct(o);l(c),f(Number(c))}catch(s){}},v=async()=>{var t;if(i&&(null==r?void 0:r.length))try{const[e,s]=await Promise.all([F(pt,{contracts:r.map((t=>({abi:yt.abi,address:t.token,functionName:"router"})))}),F(pt,{contracts:r.map((t=>({abi:mt,address:t.token,functionName:"balanceOf",args:[i]})))})]),a=null==(t=vt.networks[n])?void 0:t.address;if(!a)return;const o=await Promise.all(r.map((async(t,i)=>{var n,r,o,l,c;try{const l=null==(n=e[i])?void 0:n.result,c=null==(r=s[i])?void 0:r.result;if(!l||void 0===c)return{...t,amountsOut:0,balance:ct(BigInt("0"))};const h=await dt(pt,{abi:bt,address:l,functionName:"getAmountsOut",args:[c,[t.token,a]]}).catch((()=>[BigInt("0"),BigInt("0")]));return{...t,amountsOut:ct(null!=(o=h[1])?o:BigInt("0")),balance:ct(null!=c?c:BigInt("0"))}}catch(h){return{...t,amountsOut:0,balance:ct(null!=(c=null==(l=s[i])?void 0:l.result)?c:BigInt("0"))}}})));h(o),b(o.reduce(((t,e)=>t+Number(e.amountsOut)),0))}catch(e){}};return Y.useEffect((()=>{if(i){r&&h(r.map((t=>({...t,amountsOut:0,balance:"0"}))));(async()=>{await Promise.all([y(),v()])})()}}),[i,r]),rt.jsx(rt.Fragment,{children:rt.jsxs("div",{className:"scroll-containers overflow-auto sm:h-[200px]",children:[rt.jsxs("div",{className:"my-2 flex items-center justify-between px-[15px] sm:px-0",children:[rt.jsxs("div",{className:"flex items-center",children:[rt.jsx("img",{src:ot,alt:"WhiteBNB",className:"sm:w-[36px]"}),rt.jsx("div",{className:"ml-1",children:rt.jsx("div",{className:"flex items-center",children:rt.jsx("span",{className:"text-[#333]",children:"BNB"})})})]}),rt.jsxs("div",{className:"flex flex-col items-end",children:[rt.jsx("span",{className:"text-[#333]",children:t?lt(ct(null!=(s=null==a?void 0:a.value)?s:BigInt("0")),2):"*****"}),rt.jsx("span",{className:"text-[#8A8A8A]",children:t?"$"+lt(u):"*****"})]})]}),rt.jsxs("div",{className:"my-2 flex items-center justify-between px-[15px] sm:px-0",children:[rt.jsxs("div",{className:"flex items-center",children:[rt.jsx("img",{src:ht,alt:"WhiteBNB",className:"sm:w-[36px]"}),rt.jsx("div",{className:"ml-1",children:rt.jsx("div",{className:"flex items-center",children:rt.jsx("span",{className:"text-[#333]",children:"USDT"})})})]}),rt.jsxs("div",{className:"flex flex-col items-end",children:[rt.jsx("span",{className:"text-[#333]",children:t?lt(o,2):"*****"}),rt.jsx("span",{className:"text-[#8A8A8A]",children:t?"$"+lt(o):"*****"})]})]}),null==c?void 0:c.map((e=>rt.jsxs("div",{className:"my-2 flex items-center justify-between px-[15px] sm:px-0",children:[rt.jsxs("div",{className:"flex items-center",children:[rt.jsx(ut,{chainId:n,tokenAddress:e.token,symbol:e.symbol,className:"h-[30px] w-[30px] lg:h-[36px] lg:w-[36px]"}),rt.jsx("div",{className:"ml-1",children:rt.jsx("div",{className:"flex items-center",children:rt.jsx("span",{className:"text-[#333]",children:e.symbol})})})]}),rt.jsxs("div",{className:"flex flex-col items-end",children:[rt.jsxs("span",{className:"text-[#333]",children:[" ",t?lt(e.balance):"*****"]}),rt.jsx("span",{className:"text-[#8A8A8A]",children:t?"$"+lt(Number(e.amountsOut)):"*****"})]})]},e.token)))]})})};export{Wt as default};
