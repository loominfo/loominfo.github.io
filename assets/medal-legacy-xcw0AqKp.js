System.register(["./index-legacy-C2ELeSjt.js","./modeal1-legacy-07PKUq05.js","./Sure-legacy-CC5z1Ifs.js","./Medal-legacy-BdBb_f4c.js","./BonusTemplate-legacy-DgWrQAEx.js"],(function(e,s){"use strict";var t,a,l,n,x,r,d,c,i,m,p,o,u,h,f,j,g,N,y,w,b,v,C,M,F,k,S,A,O,I,B,E,z;return{setters:[e=>{t=e.e,a=e.u,l=e.C,n=e.d,x=e.f,r=e.a,d=e.r,c=e.q,i=e.g,m=e.J,p=e.j,o=e.a2,u=e.a3,h=e.af,f=e.bN,j=e.bO,g=e.bP,N=e.O,y=e.bQ,w=e.Y,b=e.B,v=e.a7,C=e.D,M=e.I,F=e.s,k=e.aN,S=e.w,A=e.h},e=>{O=e.m,I=e.a},e=>{B=e.S},e=>{E=e.M},e=>{z=e.B}],execute:function(){e("default",(()=>{const{role:e}=t(),{t:s}=a(),{address:D}=l(),{tokenList:L}=n(),T=x(),{toast:q}=r(),[P,J]=d.useState(!1),[Q,R]=d.useState(!1),[Y,$]=d.useState(!1),[_,G]=d.useState(!1),[H,K]=d.useState(!1),[U,V]=d.useState(!1),[W,X]=d.useState([]),[Z,ee]=d.useState(!1),[se,te]=d.useState(void 0),[ae,le]=d.useState("");d.useEffect((()=>{ne()}),[D,T,L]);const ne=async()=>{if(V(!0),D&&L){const e=[];for(let s=0;s<L.length;s++){const t=await c(i,{abi:E.abi,address:L[s].medal,functionName:"balanceOf",args:[D]}),a=await m(i,{contracts:Array.from({length:Number(t)},((e,t)=>({abi:E.abi,address:L[s].medal,functionName:"tokenOfOwnerByIndex",args:[D,t]})))}),l=await m(i,{contracts:a.map((e=>({abi:z.abi,address:L[s].bonus,functionName:"infoOf",args:[e.result]})))}),n=l.map(((e,t)=>{const l=Number(e.result[0]);return{owner:D,medalType:l,medalId:Number(a[t].result),medal:L[s].medal}}));if(e.push({name:L[s].symbol,token:L[s].token,medals:[]}),n.length>0){for(let t=0;t<n.length;t++)e[e.length-1].medals.push({key:s,id:n[t].medalId,type:n[t].medalType,address:L[s].medal});G(!0)}}X(e),V(!1)}},xe=()=>e.tokenId>0?J(!0):ee(!0);return p.jsxs(p.Fragment,{children:[p.jsx(o,{isOpen:P,onOpenChange:()=>J(!1)}),p.jsx(u,{open:Z,onOpenChange:()=>ee(!1)}),D?U?p.jsxs("div",{className:"my-26 flex flex-col items-center justify-center text-gray-500",children:[p.jsx(h,{className:"w-[30px] animate-spin",color:"#6b7280"}),s("Loading...")]}):_?p.jsx("div",{className:"grid grid-cols-1 gap-2 pb-[80px] sm:grid-cols-2 sm:gap-[22px]",children:W.map(((e,t)=>p.jsx(p.Fragment,{children:e.medals.length>0&&p.jsx(p.Fragment,{children:p.jsx(f,{className:"rounded-[10px] sm:rounded-[12px] sm:border sm:border-[#F4F3F8]",type:"single",collapsible:!0,children:p.jsxs(j,{value:`item-${t}`,className:"",children:[p.jsx(g,{className:"rounded-[10px] bg-[#F9FAFB] text-[14px] text-[#2C2C2C] sm:rounded-[12px]",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(N,{chainId:T,tokenAddress:e.token,symbol:e.name,className:"mr-[10px] h-[30px] w-[30px] lg:h-[36px] lg:w-[36px]"})," ",e.name,"(",e.medals.length,")"]})}),p.jsx(y,{children:e.medals.map(((e,t)=>p.jsxs("div",{className:w("flex items-center justify-between p-[14px]"),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:1===e.type?O:I,className:"mr-1 w-[50px]"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[14px] text-[#333333]",children:1===e.type?s("newMedal.text5"):s("newMedal.text4")}),p.jsxs("span",{className:"text-[12px] text-[#797979]",children:["ID: ",e.id]})]})]}),p.jsx("div",{className:"flex items-center",children:p.jsx(b,{onClick:()=>{(e=>{R(!0),te(e)})(e)},type:"green",size:"small",children:s("newMedal.text7")})})]},t)))})]})})})})))}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-[20px]",children:[p.jsx("img",{src:v,alt:"",width:97.5}),p.jsx("span",{className:"text-center text-[12px] text-[#8A8A8A] sm:mt-4 sm:text-[14px]",children:s("newMedal.text18")}),p.jsx(b,{onClick:xe,type:"green",size:"medium",className:"mt-5 flex justify-center text-[14px]",children:s("newMedal.text1")})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-[20px]",children:[p.jsx("img",{src:v,alt:"",width:97.5}),p.jsx("span",{className:"text-center text-[12px] text-[#8A8A8A] sm:mt-4 sm:text-[14px]",children:s("newMedal.text18")}),p.jsx(b,{onClick:xe,type:"green",size:"medium",className:"mt-5 flex justify-center text-[14px]",children:s("newMedal.text1")})]}),p.jsx(C,{open:Q,onOpenChange:()=>R(!1),className:"px-1 py-4 sm:px-0",children:p.jsxs("div",{className:"flex flex-col sm:px-[25px]",children:[p.jsx("span",{className:"text-[18px] text-[#101828] sm:text-[20px]",children:s("newMedal.text19")}),p.jsx("span",{className:"mt-[12px] text-[14px] text-[#475467]",children:s("newMedal.text20")}),p.jsxs("div",{className:"mt-[13px] flex w-full items-start justify-between rounded-[12px] border border-[#04CC79] bg-[#F5FFF7] p-[16px_22px] sm:mt-[20px]",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:1===se?.type?O:I,className:"w-[40px] rounded-[8px]"}),p.jsxs("div",{className:"flex flex-col pl-[10px] text-[17px]",children:[p.jsx("span",{className:"text-[14px] font-black text-[#04CC79]",children:s(1===se?.type?"newMedal.text5":"newMedal.text4")}),p.jsxs("span",{className:"text-[14px] text-[#04CC79]",children:["ID:",se?.id]})]})]}),p.jsx("img",{src:B,alt:""})]}),p.jsx("div",{className:"mt-[20px] w-full",children:p.jsx(M,{placeholder:s("Please enter the transfer address"),onChange:e=>(e=>{le(e)})(e.target.value),value:ae,onFocus:()=>{$(!0)},onBlur:()=>{$(!1)},className:"mt-2 border-none bg-[#ECECED] py-[20px] text-center text-sm/[19px] text-[#8E8E93] shadow-none"})}),p.jsx("div",{className:"mt-[20px] flex w-full items-center justify-between",children:p.jsx(b,{onClick:async()=>{K(!0);try{if(se){const{request:e}=await F(i,{abi:k.abi,address:se.address,functionName:"transferFrom",args:[D,ae,BigInt(se.id)]}),t=await S(i,e);await A(i,{hash:t}),q(s("newMedal.text13")),K(!1);const a=Array.isArray(se)?se:[se],l=W.map(((e,s)=>{const t=a.find((e=>e.key===s));return t?{...e,medals:e.medals.filter((e=>e.id!==t.id))}:e}));X(l),R(!1),le("")}}catch(e){return K(!1),le(""),q(s("Enter the correct address"))}},disabled:0==ae.length,isLoading:H,type:"green",size:"small",className:"w-full text-[17px] sm:pt-[3px]",children:s("newMedal.text7")})})]})})]})}))}}}));
